<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ§® Ù…ÙÙˆÙ„Ù‘ÙØ¯ Viewable_data3 (ØªÙˆÙ„ÙŠØ¯ Ù…Ø®Ø·Ø· Ø§Ù„Ø­Ù‚ÙˆÙ„)</title>
<style>
body {
  font-family: "Noto Naskh Arabic", sans-serif;
  direction: rtl;
  background: #f9fafb;
  color: #111;
  margin: 20px;
}
h1{text-align:center;margin-bottom:20px}
form, .output {
  max-width: 900px;
  margin: auto;
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}
label{display:block;margin-top:10px;font-weight:600}
input,select,textarea {
  width: 100%;
  padding: 8px;
  margin-top: 6px;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 15px;
  box-sizing: border-box;
}
button {
  padding: 10px 14px;
  background: #2563eb;
  color: #fff;
  border: none;
  border-radius: 6px;
  margin-top: 12px;
  cursor: pointer;
}
button:hover {background:#1e40af}
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 15px;
}
th, td {
  border: 1px solid #ccc;
  padding: 8px;
  text-align: center;
}
th {background:#f3f4f6}
pre {
  background: #f5f5f5;
  padding: 10px;
  border-radius: 8px;
  overflow: auto;
}
</style>
</head>
<body>

<h1>ğŸ§® Ù…ÙÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø­Ù‚ÙˆÙ„ Viewable_data3</h1>

<form id="fieldForm">
  <label>ğŸ”¹ Ø§Ø³Ù… Ø§Ù„Ø­Ù‚Ù„ (ColumnName)</label>
  <input type="text" id="name" placeholder="Ù…Ø«Ø§Ù„: CompanyNameProject" required>

  <label>ğŸ”¹ Ù†ÙˆØ¹ Ø§Ù„Ø­Ù‚Ù„ (ColumnType)</label>
  <select id="type">
    <option value="text">text - Ù†Øµ</option>
    <option value="number">number - Ø±Ù‚Ù…</option>
    <option value="date">date - ØªØ§Ø±ÙŠØ®</option>
    <option value="dropdownlist">dropdownlist - Ù‚Ø§Ø¦Ù…Ø© Ù…Ù†Ø³Ø¯Ù„Ø©</option>
  </select>

  <label>ğŸ”¹ Ø§Ù„ØªØ³Ù…ÙŠØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (label)</label>
  <input type="text" id="label" placeholder="Ù…Ø«Ø§Ù„: Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© / Ø§Ù„Ù…Ø´Ø±ÙˆØ¹" required>

  <label>ğŸ”¹ Ù‚ÙŠÙ… Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù†ÙˆØ¹ dropdownlist)</label>
  <input type="text" id="contentList" placeholder="Ù…Ø«Ø§Ù„: Ø·Ù†, Ø¹Ø¯Ø¯, Ù„ØªØ±">

  <button type="button" id="addField">â• Ø£Ø¶Ù Ø§Ù„Ø­Ù‚Ù„</button>
</form>

<table id="fieldsTable">
  <thead>
    <tr><th>#</th><th>Ø§Ø³Ù… Ø§Ù„Ø­Ù‚Ù„</th><th>Ø§Ù„Ù†ÙˆØ¹</th><th>Ø§Ù„ØªØ³Ù…ÙŠØ©</th><th>Ø§Ù„Ù‚ÙŠÙ…</th><th>Ø¥Ø²Ø§Ù„Ø©</th></tr>
  </thead>
  <tbody></tbody>
</table>

<div class="output">
  <button id="generate">ğŸ§¾ ØªÙˆÙ„ÙŠØ¯ JSON Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</button>
  <h2>ğŸ“¦ Ø§Ù„Ù†Ø§ØªØ¬ (Viewable_data3)</h2>
  <pre id="output"></pre>
</div>

<script>
const fields = [];

document.getElementById('addField').addEventListener('click', () => {
  const name = document.getElementById('name').value.trim();
  const type = document.getElementById('type').value;
  const label = document.getElementById('label').value.trim();
  const contentListRaw = document.getElementById('contentList').value.trim();

  if (!name || !label) {
    alert("âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ø­Ù‚Ù„ ÙˆØ§Ù„ØªØ³Ù…ÙŠØ©.");
    return;
  }

  const contentList = contentListRaw ? contentListRaw.split(',').map(s => s.trim()) : [];

  const field = {
    ColumnName: name,
    ColumnRequired: false,
    ColumnType: type,
    ContentList: contentList,
    id: 100 + fields.length,
    label: label
  };

  fields.push(field);
  renderTable();
  document.getElementById('fieldForm').reset();
});

function renderTable() {
  const tbody = document.querySelector('#fieldsTable tbody');
  tbody.innerHTML = "";
  fields.forEach((f, i) => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${i+1}</td>
      <td>${f.ColumnName}</td>
      <td>${f.ColumnType}</td>
      <td>${f.label}</td>
      <td>${f.ContentList.join(', ')}</td>
      <td><button onclick="removeField(${i})">âŒ</button></td>
    `;
    tbody.appendChild(tr);
  });
}

function removeField(index) {
  fields.splice(index, 1);
  renderTable();
}

document.getElementById('generate').addEventListener('click', () => {
  if (!fields.length) {
    alert("âš ï¸ Ù„Ù… ØªØªÙ… Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ Ø­Ù‚ÙˆÙ„ Ø¨Ø¹Ø¯.");
    return;
  }
  const json = { Viewable_data3: fields };
  document.getElementById('output').textContent = JSON.stringify(json, null, 2);
});
</script>

</body>
</html>
